<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Infrastructure and Devops | Welcome to Prafull's blog</title>
<meta name=keywords content><meta name=description content="Infrastructure and Devops - Welcome to Prafull's blog"><meta name=author content><link rel=canonical href=http://prafullchvn.github.io/infrastructure-and-devops/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><link rel=icon href=http://prafullchvn.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://prafullchvn.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://prafullchvn.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://prafullchvn.github.io/apple-touch-icon.png><link rel=mask-icon href=http://prafullchvn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://prafullchvn.github.io/infrastructure-and-devops/index.xml><link rel=alternate hreflang=en href=http://prafullchvn.github.io/infrastructure-and-devops/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Infrastructure and Devops"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://prafullchvn.github.io/infrastructure-and-devops/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Infrastructure and Devops"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Infrastructure and Devops","item":"http://prafullchvn.github.io/infrastructure-and-devops/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://prafullchvn.github.io/ accesskey=h title="Welcome to Prafull's blog (Alt + H)">Welcome to Prafull's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=http://prafullchvn.github.io/posts title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Infrastructure and Devops</h1></header><article class=post-entry><header class=entry-header><h2>Multi architecture management in Colima</h2></header><div class=entry-content><p>Multi-profiles management One of the most exciting Colima features is instances management. To do so, Colima is using profiles.
To create an instance with a profile name, add the -p flag to the command line. For example, colima start -p funny_profile will create a default instance withfunny_profileas profile name.colima start -p intel -a x86_64 -c 1will start an intel instance with 1 CPU using theintelname.
You can retrieve your current profiles by running colima list....</p></div><footer class=entry-footer>&lt;span title='2024-06-09 20:44:31 +0530 +0530'>June 9, 2024&lt;/span></footer><a class=entry-link aria-label="post link to Multi architecture management in Colima" href=http://prafullchvn.github.io/infrastructure-and-devops/building-arch64-images/></a></article><article class=post-entry><header class=entry-header><h2>Docker Basics</h2></header><div class=entry-content><p>Docker is prime examle of platform which provides containerisation. There are mainy instances through which we can implement the containers but docker is one of the most popular to do so.
Docker architecture As you can see in picture, there are two main parts to the docker
docker CLI docker server We launch container, check their logs using docker CLI which in turns contacts docker server. Docker server is where docker daemon is running....</p></div><footer class=entry-footer>&lt;span title='2023-02-26 17:19:46 +0530 +0530'>February 26, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Docker Basics" href=http://prafullchvn.github.io/infrastructure-and-devops/docker-basics/></a></article><article class=post-entry><header class=entry-header><h2>Resource Acronyms in K8</h2></header><div class=entry-content><p>acronym resource po pods svc services ns namespaces rs resplicaset dp deployments sts stateful set ds daemon set</p></div><footer class=entry-footer>&lt;span title='2023-02-24 15:56:17 +0530 +0530'>February 24, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Resource Acronyms in K8" href=http://prafullchvn.github.io/infrastructure-and-devops/resource-acronyms-in-k8/></a></article><article class=post-entry><header class=entry-header><h2>K9s Shortcuts</h2></header><div class=entry-content><p>Shortcuts Description Syntax To view all the resources of particular type :&lt;reource-type> To search through resources /&lt;regex> To view & switch all ctx :ctx To switch to antother context :ctx &lt;ctx-name> To switch to antother context :ctx &lt;ctx-name> To describe resource Press d To edit resource Press e To view logs resource Press l To view all namespaces :ns To delete resource ctrl + d To kill resource ctrl + k Toggel wide column ctrl + w To view resources in error mode ctrl + z To view resources in xray mode :xray &lt;resource-type> &lt;namespace></p></div><footer class=entry-footer>&lt;span title='2023-02-24 15:29:34 +0530 +0530'>February 24, 2023&lt;/span></footer><a class=entry-link aria-label="post link to K9s Shortcuts" href=http://prafullchvn.github.io/infrastructure-and-devops/k9s-shortcuts/></a></article><article class=post-entry><header class=entry-header><h2>Workspaces in Terraform</h2></header><div class=entry-content><p>Workspaces in terraform gives us freedom to have same infrastructure for different environment with different values.
You can interact with workspaces in terraform using following commands
For help
terraform workspace -h
To view all workspaces
terraform workspace show
To select workspace
terraform workspace select Using variables based on Environment resource "aws_instance" "myec2"{ ami = "something random" instance_type = lookup(var.instance_type,terraform.workspace) } variable "instance_type" { type = "map" default = { default = 't2....</p></div><footer class=entry-footer>&lt;span title='2023-02-22 16:17:28 +0530 +0530'>February 22, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Workspaces in Terraform" href=http://prafullchvn.github.io/infrastructure-and-devops/workspaces-in-terraform/></a></article><article class=post-entry><header class=entry-header><h2>Modules in Terraform</h2></header><div class=entry-content><p>You can reuse the block of terraform configuration code used to create part of infrastructure instead of writing new one. This will initialise that module in your current project.
Syntax -
module "name-of-module" { source = "path/to/module" } While initialising project using terraform init this will download the module.
Using the variables in module In order to make the module more flexible you can parameterise the values of configuration.
Syntax -...</p></div><footer class=entry-footer>&lt;span title='2023-02-22 08:34:41 +0530 +0530'>February 22, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Modules in Terraform" href=http://prafullchvn.github.io/infrastructure-and-devops/modules-in-terraform/></a></article><article class=post-entry><header class=entry-header><h2>Resource Dependencies in Terraform</h2></header><div class=entry-content><p>Have you ever wondered how does Terraform knows the order in which to create the resources? When we provision the infra one resource might have depedency on other for e.g. if we have create some resource on azure we need to create resource group first for it and then create the resource under that resource group.
Terraform uses this dependency information to determine the correct order in which to create the different resources....</p></div><footer class=entry-footer>&lt;span title='2023-02-22 08:33:07 +0530 +0530'>February 22, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Resource Dependencies in Terraform" href=http://prafullchvn.github.io/infrastructure-and-devops/implicit-and-explicit-dependency-in-terraform/></a></article><article class=post-entry><header class=entry-header><h2>Attributes and Output Values</h2></header><div class=entry-content><p>TF have capabilities to output the values of resources once they are applied. You can do that using outout block. You can use the attributes that is being created to create other resources.
E.g.
resource "azurerm_resource_group" "example" { name = "example-resources" location = "West Europe" } resource "azurerm_dns_zone" "example" { name = "mydomain.com" resource_group_name = azurerm_resource_group.example.name } Here as you can see, first resource group is being created then inside that resource group a DNS zone is being created....</p></div><footer class=entry-footer>&lt;span title='2023-02-17 08:57:30 +0530 +0530'>February 17, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Attributes and Output Values" href=http://prafullchvn.github.io/infrastructure-and-devops/attributes-and-output-values/></a></article><article class=post-entry><header class=entry-header><h2>Desired State and Current State</h2></header><div class=entry-content><p>Desired state One of the primary funciton of Terraform is to create real world resource that is described in Terraform Configuration file.
Current state This is state of currently running resource.
Terraform tries to match the desired state mensioned in TF configuration file. So if any property that is mensioned in TF state file is manually changed, TF will try to change it to match the desired state. Note: If some property that is not mensioned in TF configuration is changed then TF won’t try to change it because it is not configured in configuratio file....</p></div><footer class=entry-footer>&lt;span title='2023-02-17 08:45:49 +0530 +0530'>February 17, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Desired State and Current State" href=http://prafullchvn.github.io/infrastructure-and-devops/desired-state-and-current-state/></a></article><article class=post-entry><header class=entry-header><h2>Terraform State File</h2></header><div class=entry-content><p>Terraform stores the state of real world resource created in file called terraform state file. Whenever trying to create the resource it terraform fetches cross checks it against state file. Before doing that it fetches the states from real world i.e. it refreshes the state. It contains the information about all the live resources. It contains all the informtion about the live running resource.</p></div><footer class=entry-footer>&lt;span title='2023-02-17 08:32:10 +0530 +0530'>February 17, 2023&lt;/span></footer><a class=entry-link aria-label="post link to Terraform State File" href=http://prafullchvn.github.io/infrastructure-and-devops/tf-state-file/></a></article><footer class=page-footer><nav class=pagination><a class=next href=http://prafullchvn.github.io/infrastructure-and-devops/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=http://prafullchvn.github.io/>Welcome to Prafull's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>