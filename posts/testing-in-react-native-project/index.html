<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Testing in React Native Project | Welcome to Prafull's blog</title>
<meta name=keywords content="react-native"><meta name=description content="Setup npm install --save-dev @testing-library/react-native --legacy-peer-deps Jest function Syntax -
expecte(actual).______; // where _____ you can put building method to assert further Jest Api functions General functions expect(value).toEqual(someOtherValue); expect(value).toStrictEqual(someOtherValue); expect(value).toMatch(/someRegex/); expect(someObject).toMatchObject(subsetOfObject); expect(value).toBeTruth(); expect(value).toBeFalsy(); expect(value).toBeDefined(); expect(value).toBeUndefined(); expect(value).toBeNull(); expect(value).toBeNaN(); Based on assertion made expect.assertions(3); // ensures that 3 assertion have been made in test expect.hasAssertions(); // ensures that test have at least one assertion Asserting the array You can check whether array have particular value or not."><meta name=author content><link rel=canonical href=http://prafullchvn.github.io/posts/testing-in-react-native-project/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=http://prafullchvn.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://prafullchvn.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://prafullchvn.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://prafullchvn.github.io/apple-touch-icon.png><link rel=mask-icon href=http://prafullchvn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://prafullchvn.github.io/posts/testing-in-react-native-project/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Testing in React Native Project"><meta property="og:description" content="Setup npm install --save-dev @testing-library/react-native --legacy-peer-deps Jest function Syntax -
expecte(actual).______; // where _____ you can put building method to assert further Jest Api functions General functions expect(value).toEqual(someOtherValue); expect(value).toStrictEqual(someOtherValue); expect(value).toMatch(/someRegex/); expect(someObject).toMatchObject(subsetOfObject); expect(value).toBeTruth(); expect(value).toBeFalsy(); expect(value).toBeDefined(); expect(value).toBeUndefined(); expect(value).toBeNull(); expect(value).toBeNaN(); Based on assertion made expect.assertions(3); // ensures that 3 assertion have been made in test expect.hasAssertions(); // ensures that test have at least one assertion Asserting the array You can check whether array have particular value or not."><meta property="og:type" content="article"><meta property="og:url" content="http://prafullchvn.github.io/posts/testing-in-react-native-project/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-21T08:33:45+05:30"><meta property="article:modified_time" content="2022-10-21T08:33:45+05:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="Testing in React Native Project"><meta name=twitter:description content="Setup npm install --save-dev @testing-library/react-native --legacy-peer-deps Jest function Syntax -
expecte(actual).______; // where _____ you can put building method to assert further Jest Api functions General functions expect(value).toEqual(someOtherValue); expect(value).toStrictEqual(someOtherValue); expect(value).toMatch(/someRegex/); expect(someObject).toMatchObject(subsetOfObject); expect(value).toBeTruth(); expect(value).toBeFalsy(); expect(value).toBeDefined(); expect(value).toBeUndefined(); expect(value).toBeNull(); expect(value).toBeNaN(); Based on assertion made expect.assertions(3); // ensures that 3 assertion have been made in test expect.hasAssertions(); // ensures that test have at least one assertion Asserting the array You can check whether array have particular value or not."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://prafullchvn.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Testing in React Native Project","item":"http://prafullchvn.github.io/posts/testing-in-react-native-project/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Testing in React Native Project","name":"Testing in React Native Project","description":"Setup npm install --save-dev @testing-library/react-native --legacy-peer-deps Jest function Syntax -\nexpecte(actual).______; // where _____ you can put building method to assert further Jest Api functions General functions expect(value).toEqual(someOtherValue); expect(value).toStrictEqual(someOtherValue); expect(value).toMatch(/someRegex/); expect(someObject).toMatchObject(subsetOfObject); expect(value).toBeTruth(); expect(value).toBeFalsy(); expect(value).toBeDefined(); expect(value).toBeUndefined(); expect(value).toBeNull(); expect(value).toBeNaN(); Based on assertion made expect.assertions(3); // ensures that 3 assertion have been made in test expect.hasAssertions(); // ensures that test have at least one assertion Asserting the array You can check whether array have particular value or not.","keywords":["react-native"],"articleBody":"Setup npm install --save-dev @testing-library/react-native --legacy-peer-deps Jest function Syntax -\nexpecte(actual).______; // where _____ you can put building method to assert further Jest Api functions General functions expect(value).toEqual(someOtherValue); expect(value).toStrictEqual(someOtherValue); expect(value).toMatch(/someRegex/); expect(someObject).toMatchObject(subsetOfObject); expect(value).toBeTruth(); expect(value).toBeFalsy(); expect(value).toBeDefined(); expect(value).toBeUndefined(); expect(value).toBeNull(); expect(value).toBeNaN(); Based on assertion made expect.assertions(3); // ensures that 3 assertion have been made in test expect.hasAssertions(); // ensures that test have at least one assertion Asserting the array You can check whether array have particular value or not.\nexpect([1, 2, 3]).toEqual(expect.arrayContaining([2, 3])); // Using `.not` you can check assert on negative expect([1, 2, 3]).not.toEqual(expect.arrayContaining([2, 3])); expect([1, 2, 3]).toContain(2); // to check whether array have non literal value expect(someObject).toContainEqual({ key: value }); expect(someArray).toHaveLength(3); // Testing the promise You can test the promise based on what value it get resolved. To make Jest wait for async function to be executed, either return the function or use async/await\nSyntax\nexpect(Promise.resolve(2)).resolves.toBe(3); // in case it get resolves expect(Promise.reject(2)).rejects.toBe(3); // in case it gets rejected Asserting based interaction with mocked function Based on arguments const mockedFn = jest.fn(); mockedFn.toHaveBeenCalled(); // ensures that function was called at least once mockedFn.toHaveBeenCalledTimes(times); // ensures that function was called given number of time mockedFn.toHaveBeenCalledWith(arg1,...); // ensures that function was called with given argument mockedFn.toHaveBeenLastCalledWith(arg1,...) // ensures that function was called with given argument last time time mockedFn.toHaveBeenNthCalledWith(nth,arg1,...) // ensures that function was called with given argument given nth time Based on return value const mockedFn = jest.fn(); mockedFn.toHaveReturned(); // ensures that function returned something mockedFn.toHaveReturnedTimes(times); // ensures that function was called given number of times mockedFn.toHaveReturnedWith(returnValue); // ensures that function returned given value mockedFn.toHaveLastReturnedWith(returnValue); // ensures that function returned given value last time it was called mockedFn.toHaveNthReturnedWith(nth, returnValue); // ensures that function returned given value nth time it was called For floating point value expect(1.23).toBeCloseTo(1.2, 1); //ensures that floating point number is equal to given number to given decimal point expect(1.23).toEqual(expect.closeTo(1.2, 1)); Jest mocking function const mocked = jest.fn(); // this will create mock function Make mock function return some value const mocked = jest.fn(() =\u003e value); // it will return value // OR const mocked = jest.fn().mockImplementation(() =\u003e value); Make mock function return some value const mocked = jest.fn().mockReturnValue(2); // It will always return 2 Make mock fuction return different value when executed first few times const mocked = jest .fn() .mockReturnValueOnce(3); // It will return 3 first time it is called .mockReturnValueOnce(4); // It will return 4 second time it is called .mockReturnValue(5); // It will always return 5 Make mock return some promise const mocked = jest.fn().mockResolvedValue(2); // It will always return promise which will be resolved with value 2 const mocked = jest.fn().mockResolvedValueOnce(2); // It will only once return promise which will be resolved with value 2 Watch mode To run the jest in watch mode, you can use -\njest --watch # to watch for changes and run the test in that file jest --watchAll # to run all the test regardless of which file is changed Snapshot Testing Instead of rendering the DOM tree to get graphical UI, you can render the the component to get some serializable value to compare. It will generate serialized value which will be used to testing the component.\nFirst time the tests are run it creates the snapshot file. Afterwards it uses the same file to compare and run the tests.\nSnapshot files are artifact and should be committed along side code and should be reviewed along side the code\nWhen the snapshot tests fails it means two things -\nThere is some bug and component is rendered wrongly. There are some intentional changes in component. Example\nLet’s take Card component.\nimport React from 'react'; import { Text, View } from 'react-native'; export type cardProps = { name: string, address: string, }; const Card = ({ name, address }: cardProps) =\u003e { return ( \u003cView\u003e \u003cText\u003e{name}\u003c/Text\u003e \u003cText\u003e{address} \u003c/Text\u003e \u003c/View\u003e ); }; export default Card; Generated snapshot is like this\n// Jest Snapshot v1, https://goo.gl/fbAQLP exports[`Should render the card component 1`] = ` John Nashik `; Changing the snapshot in case of intentional changes In this case, to update the snapshot to match snapshot with latest changes use following command.\njest -updateSnapshot You can update the failes snapshot in watch mode also.\nInline snapshot It’s same as the snapshot test, except the part that snapshot is generated back in source code.\nIn order to use the inline snapshot you need to have the prettier installed in on your machine\nExample\nit('Should generate the inline snapshot', () =\u003e { const card = renderer.create(\u003cCard name='John' address='Nashik' /\u003e).toJSON(); expect(card).toMatchInlineSnapshot(` John Nashik `); }); Mocking As specified above in Jest function you can use those to mock the function.\nMocking module Suppose you are fetching data from the some API using axios. But in testing you don’t want to hit the actual API to test. So here you can mock the axios module along with the method that you are using in testing.\nimport 'react-native'; import React from 'react'; import axios from 'axios'; import getUser from '../src/card'; jest.mock('axios'); it('should render the card', () =\u003e { const data = { name: 'abc', age: 21 }; axios.get.mockResolvedValue(data); return getUser().then((val) =\u003e expect(val).toEqual('Name of user is abc of age 21') ); }); Mocking Partial. - Mocking only subset of module In some cases you want to mock only some function of module and keep rest of the exports same. In that case you can mock only part by passing second parameter to mock function.\nimport axios,{get,...restOfImports} from 'axios'; jest.mock('axios', () =\u003e { return { __esModule: true, // to allow the default import in non js module get:()=\u003e{return new Promise.resolve({someKey:someValue})}, ...restOfImports }; }); Here we have only mocked the axios module keeping rest of exports from module same. If you are wondering why __esModule flag I have given reference link below check it out.\nWhat is use of method mockImplementation if jest.fn(defaultImplemention) is there? This method is useful when you have imported from some other module but need to be mocked again.\nGiving mock a name Why is it better to have name for mock function? It proves useful when you have some error thrown on your screen. When error is printed on screen it doesn’t print jest.fn() instead prints the name of function that you have given.\nconst mockedFn = mock.fn().mockName('some name'); Checking usage of mock Mock have following properties we can use to check data that is used with mock function.\nmockFn.mock.calls - it return the array of arguments(in form of array). mockFn.mock.results - it return the array of return values. mockFn.mock.instances - it return the array of instances initialized from this mockFn. Further read When to use snapshot testing\nMocking\nReference Egghead video on snapshot testing\n__esModule flag\n","wordCount":"1123","inLanguage":"en","datePublished":"2022-10-21T08:33:45+05:30","dateModified":"2022-10-21T08:33:45+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://prafullchvn.github.io/posts/testing-in-react-native-project/"},"publisher":{"@type":"Organization","name":"Welcome to Prafull's blog","logo":{"@type":"ImageObject","url":"http://prafullchvn.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://prafullchvn.github.io/ accesskey=h title="Welcome to Prafull's blog (Alt + H)">Welcome to Prafull's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=http://prafullchvn.github.io/posts title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Testing in React Native Project</h1><div class=post-meta>&lt;span title='2022-10-21 08:33:45 +0530 +0530'>October 21, 2022&lt;/span></div></header><div class=post-content><h1 id=setup>Setup<a hidden class=anchor aria-hidden=true href=#setup>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>npm install --save-dev @testing-library/react-native --legacy-peer-deps
</span></span></code></pre></div><h1 id=jest-function>Jest function<a hidden class=anchor aria-hidden=true href=#jest-function>#</a></h1><p>Syntax -</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>expecte</span>(<span style=color:#a6e22e>actual</span>).<span style=color:#a6e22e>______</span>; <span style=color:#75715e>// where _____ you can put building method to assert further
</span></span></span></code></pre></div><h2 id=jest-api-functions>Jest Api functions<a hidden class=anchor aria-hidden=true href=#jest-api-functions>#</a></h2><h3 id=general-functions>General functions<a hidden class=anchor aria-hidden=true href=#general-functions>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toEqual</span>(<span style=color:#a6e22e>someOtherValue</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toStrictEqual</span>(<span style=color:#a6e22e>someOtherValue</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toMatch</span>(<span style=color:#e6db74>/someRegex/</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>someObject</span>).<span style=color:#a6e22e>toMatchObject</span>(<span style=color:#a6e22e>subsetOfObject</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toBeTruth</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toBeFalsy</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toBeDefined</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toBeUndefined</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toBeNull</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>value</span>).<span style=color:#a6e22e>toBeNaN</span>();
</span></span></code></pre></div><h3 id=based-on-assertion-made>Based on assertion made<a hidden class=anchor aria-hidden=true href=#based-on-assertion-made>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>expect</span>.<span style=color:#a6e22e>assertions</span>(<span style=color:#ae81ff>3</span>); <span style=color:#75715e>// ensures that 3 assertion have been made in test
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>.<span style=color:#a6e22e>hasAssertions</span>(); <span style=color:#75715e>// ensures that test have at least one assertion
</span></span></span></code></pre></div><h3 id=asserting-the-array>Asserting the array<a hidden class=anchor aria-hidden=true href=#asserting-the-array>#</a></h3><p>You can check whether array have particular value or not.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>expect</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]).<span style=color:#a6e22e>toEqual</span>(<span style=color:#a6e22e>expect</span>.<span style=color:#a6e22e>arrayContaining</span>([<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Using `.not` you can check assert on negative
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]).<span style=color:#a6e22e>not</span>.<span style=color:#a6e22e>toEqual</span>(<span style=color:#a6e22e>expect</span>.<span style=color:#a6e22e>arrayContaining</span>([<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]).<span style=color:#a6e22e>toContain</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// to check whether array have non literal value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>someObject</span>).<span style=color:#a6e22e>toContainEqual</span>({ <span style=color:#a6e22e>key</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>value</span> });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>someArray</span>).<span style=color:#a6e22e>toHaveLength</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span></code></pre></div><h3 id=testing-the-promise>Testing the promise<a hidden class=anchor aria-hidden=true href=#testing-the-promise>#</a></h3><p>You can test the promise based on what value it get resolved.
To make Jest wait for async function to be executed, either return the function or use async/await</p><p>Syntax</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>expect</span>(Promise.<span style=color:#a6e22e>resolve</span>(<span style=color:#ae81ff>2</span>)).<span style=color:#a6e22e>resolves</span>.<span style=color:#a6e22e>toBe</span>(<span style=color:#ae81ff>3</span>); <span style=color:#75715e>// in case it get resolves
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>(Promise.<span style=color:#a6e22e>reject</span>(<span style=color:#ae81ff>2</span>)).<span style=color:#a6e22e>rejects</span>.<span style=color:#a6e22e>toBe</span>(<span style=color:#ae81ff>3</span>); <span style=color:#75715e>// in case it gets rejected
</span></span></span></code></pre></div><h3 id=asserting-based-interaction-with-mocked-function>Asserting based interaction with mocked function<a hidden class=anchor aria-hidden=true href=#asserting-based-interaction-with-mocked-function>#</a></h3><h4 id=based-on-arguments>Based on arguments<a hidden class=anchor aria-hidden=true href=#based-on-arguments>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mockedFn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveBeenCalled</span>(); <span style=color:#75715e>// ensures that function was called at least once
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveBeenCalledTimes</span>(<span style=color:#a6e22e>times</span>); <span style=color:#75715e>// ensures that function was called given number of time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveBeenCalledWith</span>(<span style=color:#a6e22e>arg1</span>,...); <span style=color:#75715e>// ensures that function was called with given argument
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveBeenLastCalledWith</span>(<span style=color:#a6e22e>arg1</span>,...) <span style=color:#75715e>// ensures that function was called with given argument last time time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveBeenNthCalledWith</span>(<span style=color:#a6e22e>nth</span>,<span style=color:#a6e22e>arg1</span>,...) <span style=color:#75715e>// ensures that function was called with given argument given nth time
</span></span></span></code></pre></div><h4 id=based-on-return-value>Based on return value<a hidden class=anchor aria-hidden=true href=#based-on-return-value>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mockedFn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveReturned</span>(); <span style=color:#75715e>// ensures that function returned something
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveReturnedTimes</span>(<span style=color:#a6e22e>times</span>); <span style=color:#75715e>// ensures that function was called given number of times
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveReturnedWith</span>(<span style=color:#a6e22e>returnValue</span>); <span style=color:#75715e>// ensures that function returned given value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveLastReturnedWith</span>(<span style=color:#a6e22e>returnValue</span>); <span style=color:#75715e>// ensures that function returned given value last time it was called
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mockedFn</span>.<span style=color:#a6e22e>toHaveNthReturnedWith</span>(<span style=color:#a6e22e>nth</span>, <span style=color:#a6e22e>returnValue</span>); <span style=color:#75715e>// ensures that function returned given value nth time it was called
</span></span></span></code></pre></div><h3 id=for-floating-point-value>For floating point value<a hidden class=anchor aria-hidden=true href=#for-floating-point-value>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>expect</span>(<span style=color:#ae81ff>1.23</span>).<span style=color:#a6e22e>toBeCloseTo</span>(<span style=color:#ae81ff>1.2</span>, <span style=color:#ae81ff>1</span>); <span style=color:#75715e>//ensures that floating point number is equal to given number to given decimal point
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>expect</span>(<span style=color:#ae81ff>1.23</span>).<span style=color:#a6e22e>toEqual</span>(<span style=color:#a6e22e>expect</span>.<span style=color:#a6e22e>closeTo</span>(<span style=color:#ae81ff>1.2</span>, <span style=color:#ae81ff>1</span>));
</span></span></code></pre></div><h2 id=jest-mocking-function>Jest mocking function<a hidden class=anchor aria-hidden=true href=#jest-mocking-function>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>(); <span style=color:#75715e>// this will create mock function
</span></span></span></code></pre></div><h3 id=make-mock-function-return-some-value>Make mock function return some value<a hidden class=anchor aria-hidden=true href=#make-mock-function-return-some-value>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>(() =&gt; <span style=color:#a6e22e>value</span>); <span style=color:#75715e>// it will return value
</span></span></span><span style=display:flex><span><span style=color:#75715e>// OR
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>().<span style=color:#a6e22e>mockImplementation</span>(() =&gt; <span style=color:#a6e22e>value</span>);
</span></span></code></pre></div><h3 id=make-mock-function-return-some-value-1>Make mock function return some value<a hidden class=anchor aria-hidden=true href=#make-mock-function-return-some-value-1>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>().<span style=color:#a6e22e>mockReturnValue</span>(<span style=color:#ae81ff>2</span>); <span style=color:#75715e>// It will always return 2
</span></span></span></code></pre></div><h3 id=make-mock-fuction-return-different-value-when-executed-first-few-times>Make mock fuction return different value when executed first few times<a hidden class=anchor aria-hidden=true href=#make-mock-fuction-return-different-value-when-executed-first-few-times>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>fn</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>mockReturnValueOnce</span>(<span style=color:#ae81ff>3</span>); <span style=color:#75715e>// It will return 3 first time it is called
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                .<span style=color:#a6e22e>mockReturnValueOnce</span>(<span style=color:#ae81ff>4</span>); <span style=color:#75715e>// It will return 4 second time it is called
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                .<span style=color:#a6e22e>mockReturnValue</span>(<span style=color:#ae81ff>5</span>); <span style=color:#75715e>// It will always return 5
</span></span></span></code></pre></div><h3 id=make-mock-return-some-promise>Make mock return some promise<a hidden class=anchor aria-hidden=true href=#make-mock-return-some-promise>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>().<span style=color:#a6e22e>mockResolvedValue</span>(<span style=color:#ae81ff>2</span>); <span style=color:#75715e>// It will always return promise which will be resolved with value 2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mocked</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>fn</span>().<span style=color:#a6e22e>mockResolvedValueOnce</span>(<span style=color:#ae81ff>2</span>); <span style=color:#75715e>// It will only once return promise which will be resolved with value 2
</span></span></span></code></pre></div><h2 id=watch-mode>Watch mode<a hidden class=anchor aria-hidden=true href=#watch-mode>#</a></h2><p>To run the jest in watch mode, you can use -</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>jest --watch <span style=color:#75715e># to watch for changes and run the test in that file</span>
</span></span><span style=display:flex><span>jest --watchAll <span style=color:#75715e># to run all the test regardless of which file is changed</span>
</span></span></code></pre></div><h1 id=snapshot-testing>Snapshot Testing<a hidden class=anchor aria-hidden=true href=#snapshot-testing>#</a></h1><p>Instead of rendering the DOM tree to get graphical UI, you can render the the component to get some serializable value to compare. It will generate serialized value which will be used to testing the component.</p><p>First time the tests are run it creates the snapshot file. Afterwards it uses the same file to compare and run the tests.</p><p><em>Snapshot files are artifact and should be committed along side code and should be reviewed along side the code</em></p><p>When the snapshot tests fails it means two things -</p><ol><li>There is some bug and component is rendered wrongly.</li><li>There are some intentional changes in component.</li></ol><p>Example</p><p>Let&rsquo;s take Card component.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Text</span>, <span style=color:#a6e22e>View</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-native&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#a6e22e>type</span> <span style=color:#a6e22e>cardProps</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>address</span> }<span style=color:#f92672>:</span> <span style=color:#a6e22e>cardProps</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>View</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Text</span><span style=color:#f92672>&gt;</span>{<span style=color:#a6e22e>name</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Text&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Text</span><span style=color:#f92672>&gt;</span>{<span style=color:#a6e22e>address</span>} <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Text&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/View&gt;</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Card</span>;
</span></span></code></pre></div><p>Generated snapshot is like this</p><pre tabindex=0><code class=language-snap data-lang=snap>// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Should render the card component 1`] = `
&lt;View&gt;
  &lt;Text&gt;
    John
  &lt;/Text&gt;
  &lt;Text&gt;
    Nashik

  &lt;/Text&gt;
&lt;/View&gt;
`;
</code></pre><h2 id=changing-the-snapshot-in-case-of-intentional-changes>Changing the snapshot in case of intentional changes<a hidden class=anchor aria-hidden=true href=#changing-the-snapshot-in-case-of-intentional-changes>#</a></h2><p>In this case, to update the snapshot to match snapshot with latest changes use following command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>jest -updateSnapshot
</span></span></code></pre></div><p><strong>You can update the failes snapshot in watch mode also.</strong></p><h2 id=inline-snapshot>Inline snapshot<a hidden class=anchor aria-hidden=true href=#inline-snapshot>#</a></h2><p>It&rsquo;s same as the snapshot test, except the part that snapshot is generated back in source code.</p><p><em>In order to use the inline snapshot you need to have the prettier installed in on your machine</em></p><p>Example</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#39;Should generate the inline snapshot&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>card</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>renderer</span>.<span style=color:#a6e22e>create</span>(<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Card</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span> <span style=color:#a6e22e>address</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Nashik&#39;</span> <span style=color:#f92672>/&gt;</span>).<span style=color:#a6e22e>toJSON</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>card</span>).<span style=color:#a6e22e>toMatchInlineSnapshot</span>(<span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &lt;View&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;Text&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        John
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;/Text&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;Text&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        Nashik
</span></span></span><span style=display:flex><span><span style=color:#e6db74>         
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;/Text&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &lt;/View&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  `</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h1 id=mocking>Mocking<a hidden class=anchor aria-hidden=true href=#mocking>#</a></h1><p>As specified above in Jest function you can use those to mock the function.</p><h2 id=mocking-module>Mocking module<a hidden class=anchor aria-hidden=true href=#mocking-module>#</a></h2><p>Suppose you are fetching data from the some API using <code>axios</code>. But in testing you don&rsquo;t want to hit the actual API to test. So here you can mock the <code>axios</code> module along with the method that you are using in testing.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#39;react-native&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>axios</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;axios&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>getUser</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;../src/card&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>mock</span>(<span style=color:#e6db74>&#39;axios&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>it</span>(<span style=color:#e6db74>&#39;should render the card&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;abc&#39;</span>, <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>21</span> };
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>axios</span>.<span style=color:#a6e22e>get</span>.<span style=color:#a6e22e>mockResolvedValue</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>getUser</span>().<span style=color:#a6e22e>then</span>((<span style=color:#a6e22e>val</span>) =&gt;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>val</span>).<span style=color:#a6e22e>toEqual</span>(<span style=color:#e6db74>&#39;Name of user is abc of age 21&#39;</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h2 id=mocking-partial---mocking-only-subset-of-module>Mocking Partial. - Mocking only subset of module<a hidden class=anchor aria-hidden=true href=#mocking-partial---mocking-only-subset-of-module>#</a></h2><p>In some cases you want to mock only some function of module and keep rest of the exports same. In that case you can mock only part by passing second parameter to mock function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>axios</span>,{<span style=color:#a6e22e>get</span>,...<span style=color:#a6e22e>restOfImports</span>} <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;axios&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>jest</span>.<span style=color:#a6e22e>mock</span>(<span style=color:#e6db74>&#39;axios&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>__esModule</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>, <span style=color:#75715e>// to allow the default import in non js module
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>get</span><span style=color:#f92672>:</span>()=&gt;{<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Promise.<span style=color:#a6e22e>resolve</span>({<span style=color:#a6e22e>someKey</span><span style=color:#f92672>:</span><span style=color:#a6e22e>someValue</span>})},
</span></span><span style=display:flex><span>    ...<span style=color:#a6e22e>restOfImports</span>
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>Here we have only mocked the axios module keeping rest of exports from module same. If you are wondering why <code>__esModule</code> flag I have given reference link below check it out.</p><h2 id=what-is-use-of-method-mockimplementation-if-jestfndefaultimplemention-is-there>What is use of method mockImplementation if jest.fn(defaultImplemention) is there?<a hidden class=anchor aria-hidden=true href=#what-is-use-of-method-mockimplementation-if-jestfndefaultimplemention-is-there>#</a></h2><p>This method is useful when you have imported from some other module but need to be mocked again.</p><h2 id=giving-mock-a-name>Giving mock a name<a hidden class=anchor aria-hidden=true href=#giving-mock-a-name>#</a></h2><p>Why is it better to have name for mock function? It proves useful when you have some error thrown on your screen. When error is printed on screen it doesn&rsquo;t print jest.fn() instead prints the name of function that you have given.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mockedFn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mock</span>.<span style=color:#a6e22e>fn</span>().<span style=color:#a6e22e>mockName</span>(<span style=color:#e6db74>&#39;some name&#39;</span>);
</span></span></code></pre></div><h2 id=checking-usage-of-mock>Checking usage of mock<a hidden class=anchor aria-hidden=true href=#checking-usage-of-mock>#</a></h2><p>Mock have following properties we can use to check data that is used with mock function.</p><ol><li><code>mockFn.mock.calls</code> - it return the array of arguments(in form of array).</li><li><code>mockFn.mock.results</code> - it return the array of return values.</li><li><code>mockFn.mock.instances</code> - it return the array of instances initialized from this mockFn.</li></ol><h1 id=further-read>Further read<a hidden class=anchor aria-hidden=true href=#further-read>#</a></h1><ul><li><p><a href=https://benmccormick.org/2016/09/19/testing-with-jest-snapshots-first-impressions/>When to use snapshot testing</a></p></li><li><p><a href=https://jestjs.io/docs/26.x/mock-functions>Mocking</a></p></li></ul><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><p><a href="https://egghead.io/lessons/javascript-use-jest-s-snapshot-testing-feature?pl=testing-javascript-with-jest-a36c4074">Egghead video on snapshot testing</a></p></li><li><p><a href=https://stackoverflow.com/questions/50943704/whats-the-purpose-of-object-definepropertyexports-esmodule-value-0>__esModule flag</a></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://prafullchvn.github.io/tags/react-native/>React-Native</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Testing in React Native Project on twitter" href="https://twitter.com/intent/tweet/?text=Testing%20in%20React%20Native%20Project&amp;url=http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f&amp;hashtags=react-native"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Testing in React Native Project on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f&amp;title=Testing%20in%20React%20Native%20Project&amp;summary=Testing%20in%20React%20Native%20Project&amp;source=http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Testing in React Native Project on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f&title=Testing%20in%20React%20Native%20Project"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Testing in React Native Project on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Testing in React Native Project on whatsapp" href="https://api.whatsapp.com/send?text=Testing%20in%20React%20Native%20Project%20-%20http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Testing in React Native Project on telegram" href="https://telegram.me/share/url?text=Testing%20in%20React%20Native%20Project&amp;url=http%3a%2f%2fprafullchvn.github.io%2fposts%2ftesting-in-react-native-project%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};(function(){var e=document,t=e.createElement("script");t.src="https://prafullchvn-github-io-1.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2024 <a href=http://prafullchvn.github.io/>Welcome to Prafull's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>